<% content_for(:head) do %>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#user_birthday').datepicker({
                format: 'yyyy-mm-dd',
                viewMode: 2
            });
        });
    </script>
<% end %>

<div id="inviteNewUser" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="inviteNewUserLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Inviter un nouvel utilisateur</h3>
  </div>
  <div class="modal-body">
    <%= simple_form_for @user, :remote => true , :validate=>true do |f| %>

        <h5>Informations personnelles</h5>

        <div class="input-prepend">
          <span class="add-on"><i class="icon-user"></i></span>
          <%= f.text_field :first_name, :autofocus => true, :placeholder => 'Prénom', :class => 'input-medium' %>
        </div>
        <div class="input-prepend">
          <%= f.text_field :last_name, :placeholder => 'Nom', :class => 'input-medium' %>
        </div>
        <br />

        <div class="input-prepend">
          <span class="add-on"><i class="icon-envelope"></i></span>
          <%= f.text_field :email, :placeholder => 'Adresse courriel', :class => 'input-large' %>
        </div>
        <br />

        <div class="input-prepend">
          <span class="add-on"><i class="icon-gift"></i></span>
          <%= f.text_field :birthday, :class => 'input-medium', :placeholder => "Date de naissance", :'data-mask' => '9999-99-99' %>
        </div>

        <%= f.hidden_field :role_ids, :value => Role.find_by_name('Participant').id %>
    <% end %>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Fermer</button>
    <button class="btn btn-primary" onclick="inviteNewUser();  return false;">Enregistrer</button>
  </div>
</div>