<% content_for(:head) do %>
  <script type="text/javascript">
    fcms.planificationURL = "<%=  url_for :controller => 'admin/planification' %>/";
    fcms.timeslotURL = "<%= admin_timeslots_path %>/";
  </script>
<% end %>


<h3>
  <i class="icon-calendar"></i> Planifier le concours
  <span style="float: right;">
    <a href="<%=  admin_planif_excel_path %>" class="btn" ><i class="icon-download"></i> Télécharger les inscriptions au format Excel</a>
  </span>
</h3>
<div class="form-inline" id="section-1">
  <p>Cette page permet de planifier le Festival-Concours une fois la période d'inscriptions terminée.</p>
  <label for="input-planned-category">Sélectionner une classe à planifier: </label>&nbsp;&nbsp;
  <%= select_tag 'input-planned-category', options_from_collection_for_select(Category.all(:order => "name ASC"), 'id', 'name'), :include_blank => true %>
</div>

<div id="section-2">
  <hr>

  <div class="panel" id="panel-categories">
    <h4>Plages horaires</h4>
    <div id="div-timeslots"></div>
  </div>

  <div class="panel" id="panel-selected">
    <hr>

    <div id="timeslot-buttons-top">
      <button class="btn btn-primary btn-small input-large" id="btn-save-timeslot"><i class="icon-save"></i>&nbsp;&nbsp;Enregistrer les modifications</button><br />
    </div>
    <h4>Détails de la plage horaire</h4>

    <div class="control-group">
      <label class="control-label"><b>Identifiant</b></label>
      <div class="controls">
        <div class="input-prepend">
          <span class="add-on"><i class="iconic-hash"></i></span>
          <input class="input-small" id="input-timeslot-id" type="text" disabled="true">
        </div>
        <br />
      </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="input-timeslot-name"><b>Nom de la plage horaire</b></label>
      <div class="controls">
        <div class="input-prepend">
          <span class="add-on"><i class="icon-font"></i></span>
          <input class="input-xlarge" id="input-timeslot-name" type="text" placeholder="Nom de la plage horaire">
        </div>
        <br />
      </div>
    </div>

    <h4>Inscriptions dans cette plage horaire</h4>
    <div class="div-inscriptions" id="div-inscriptions-selected"></div>

  </div>

  <div class="panel" id="panel-controls">
    <div class="sub-controls" id="sub-controls-down">
      <div class="sub-controls-left">
        <button class="btn btn-mini" id="btn-select-all-down">Sélectionner tout</button>&nbsp;<button class="btn btn-mini" id="btn-select-none-down">Désélectionner tout</button>
      </div>
      <div class="sub-controls-right">
        <button class="btn btn-mini" id="btn-move-all-down"><i class="icon-arrow-down"></i></button>&nbsp;<button class="btn btn-mini" id="btn-move-selected-down"><i class="icon-chevron-down"></i></button>
      </div>
      <div class="clear"></div>
    </div>
    <div class="sub-controls" id="sub-controls-up">
      <div class="sub-controls-left">
        <button class="btn btn-mini" id="btn-move-selected-up"><i class="icon-chevron-up"></i></button>&nbsp;<button class="btn btn-mini" id="btn-move-all-up"><i class="icon-arrow-up"></i></button>
      </div>
      <div class="sub-controls-right">
        <button class="btn btn-mini" id="btn-select-all-up">Sélectionner tout</button>&nbsp;<button class="btn btn-mini" id="btn-select-none-up">Désélectionner tout</button>
      </div>
      <div class="clear"></div>
    </div>
  </div>

  <div class="panel" id="panel-all">
    <h4>Inscriptions non-planifiées pour la classe <strong>Récital</strong></h4>
    <div class="div-inscriptions" id="div-inscriptions-all"></div>

  </div>

</div>